<!--<Window x:Class="flower.Views.Userdesk"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:vm="clr-namespace:flower.ViewModels"
        xmlns:local="clr-namespace:flower.Views"
        Title="Userdesk" Height="700" Width="1000" Name="MainWin">
    <Window.Resources>
        --><!-- DataTemplates разделов. Используем ТОЛЬКО x:Key, а DataType убираем --><!--
        <DataTemplate x:Key="ProductsTemplate">
            --><!-- ... Содержимое шаблона товаров ... --><!--
        </DataTemplate>
        <DataTemplate x:Key="CustomersTemplate">
            <TextBlock Text="Профиль клиентов здесь" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Center" 
                       FontSize="24" FontWeight="Bold"/>
        </DataTemplate>
        <DataTemplate x:Key="OrdersTemplate">
            <TextBlock Text="Корзина и заказы здесь" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Center"
                       FontSize="24" FontWeight="Bold"/>
        </DataTemplate>
        <DataTemplate x:Key="ReviewsTemplate">
            <TextBlock Text="Отзывы пользователей здесь" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Center" 
                       FontSize="24" FontWeight="Bold"/>
        </DataTemplate>
        <vm:S
                                    ProductsTemplate="{StaticResource ProductsTemplate}"
                                    CustomersTemplate="{StaticResource CustomersTemplate}"
                                    OrdersTemplate="{StaticResource OrdersTemplate}"
                                    ReviewsTemplate="{StaticResource ReviewsTemplate}"/>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="{Binding MenuWidth}"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Border Background="BlueViolet" Padding="5">
            <StackPanel>
                <Button Width="40" Height="40" Margin="5" Command="{Binding ToggleMenuCommand}">
                    <iconPacks:PackIconMaterial Kind="Menu" Foreground="White" Width="24" Height="24"/>
                </Button>
                <Button Margin="5" Command="{Binding ShowProductsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="Flower" Foreground="White" Width="24" Height="24"/>
                        <TextBlock Text="Товары" Foreground="White" Margin="10,0,0,0" 
                                   Visibility="{Binding MenuWidth, Converter={StaticResource WidthToVisibilityConverter}}"/>
                    </StackPanel>
                </Button>
                <Button Margin="5" Command="{Binding ShowCustomersCommand}">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="Account" Foreground="White" Width="24" Height="24"/>
                        <TextBlock Text="Клиенты" Foreground="White" Margin="10,0,0,0" 
                                   Visibility="{Binding MenuWidth, Converter={StaticResource WidthToVisibilityConverter}}"/>
                    </StackPanel>
                </Button>
                <Button Margin="5" Command="{Binding ShowOrdersCommand}">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="Cart" Foreground="White" Width="24" Height="24"/>
                        <TextBlock Text="Заказы" Foreground="White" Margin="10,0,0,0" 
                                   Visibility="{Binding MenuWidth, Converter={StaticResource WidthToVisibilityConverter}}"/>
                    </StackPanel>
                </Button>
                <Button Margin="5" Command="{Binding ShowReviewsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="MessageProcessing" Foreground="White" Width="24" Height="24"/>
                        <TextBlock Text="Отзывы" Foreground="White" Margin="10,0,0,0" 
                                   Visibility="{Binding MenuWidth, Converter={StaticResource WidthToVisibilityConverter}}"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>
        <ScrollViewer Grid.Column="1" Padding="10">
            <ContentControl Content="{Binding}" ContentTemplateSelector="{StaticResource SectionTemplateSelector}"/>
        </ScrollViewer>
    </Grid>
</Window>-->
    <Window x:Class="flower.Views.Userdesk"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Userdesk" Height="700" Width="1000"
        Name="MainWin">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="GridControlPanel" Width="200"/>
            <ColumnDefinition Width="200" x:Name="Gridfilterpanel" MinWidth="0" />
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

         <!--Кнопка Меню--> 
        <Button x:Name="Menu" 
                Style="{DynamicResource MaterialDesignIconButton}" 
                Width="30" Height="30" 
                HorizontalAlignment="Left" 
                Margin="10,10,10,30" 
                Click="Menu_Click">
            <iconPacks:PackIconMaterial Kind="menu" Width="30" Height="30"/>
        </Button>

         <!--Панель поиска по всему вверху--> 
        <StackPanel Grid.Column="1" Grid.ColumnSpan="2" Orientation="Horizontal" Height="auto" HorizontalAlignment="Center" Margin="0,10,0,0">
            <TextBox Width="300"  Height="50" Text="{Binding FilterText}"  
                     Style="{DynamicResource MaterialDesignOutlinedTextBox}" Margin="0,0,10,0" />
            <iconPacks:PackIconMaterial VerticalAlignment="Center" Kind="Magnify" Foreground="BlueViolet" Width="50" Height="50"/>
        </StackPanel>

         <!--Левая панель меню--> 
        <Border x:Name="controlPanel" Grid.Row="1" Background="BlueViolet" CornerRadius="0 50 0 30" >
            <DockPanel>
                <Border x:Name="foto" Width="80" Height="80" Padding="3" Background="white" CornerRadius="100" Margin=" -10,-30,0,10" DockPanel.Dock="Top">
                    <Ellipse>
                        <Ellipse.Fill>
                            <ImageBrush />
                        </Ellipse.Fill>
                    </Ellipse>
                </Border>
                <TextBlock DockPanel.Dock="Top" x:Name="userName" Text="Firstname Name" Foreground="White" FontSize="20" HorizontalAlignment="Center"/>
                <Separator DockPanel.Dock="Top" Name="seporator" Margin="10" Height="0.8" Background="white"/>
                <StackPanel DockPanel.Dock="Top" x:Name="menuButtons" Height="auto" Margin="0,50,0,0">
                    <Button x:Name="buttonCustomers" Margin="0,0,0,10">
                        <StackPanel Orientation="Horizontal" >
                            <iconPacks:PackIconMaterial Kind="Account" HorizontalAlignment="Left" Margin="0,0,20,0"/>
                            <TextBlock x:Name="Customers" Text="Клиенты" HorizontalAlignment="Right"/>
                        </StackPanel>
                    </Button>
                    <Button Margin="0,0,0,10">
                        <StackPanel Orientation="Horizontal" >
                            <iconPacks:PackIconMaterial Kind="Cart" HorizontalAlignment="Left" Margin="0,0,20,0"/>
                            <TextBlock x:Name="Orders" Text="Заказы" HorizontalAlignment="Right"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="Products1" Margin="0,0,0,10">
                        <StackPanel Orientation="Horizontal" >
                            <iconPacks:PackIconMaterial Kind="Flower" HorizontalAlignment="Left" Margin="0,0,20,0"/>
                            <TextBlock x:Name="Products" Text="Товары" HorizontalAlignment="Right"/>
                        </StackPanel>
                    </Button>
                    <Button Margin="0,0,0,10" >
                        <StackPanel Orientation="Horizontal" >
                            <iconPacks:PackIconMaterial Kind="MessageProcessing" HorizontalAlignment="Left" Margin="0,0,20,0"/>
                            <TextBlock x:Name="Feedbacks" Text="Отзывы" HorizontalAlignment="Right"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
                <Button DockPanel.Dock="Bottom" x:Name="backtoAu" Margin="0" Style="{DynamicResource MaterialDesignIconButton}"
                        Background="White" >
                    <iconPacks:PackIconMaterial Kind="AccountArrowLeft" Width="20" Height="20" />
                </Button>
            </DockPanel>
        </Border>

         <!--Панель фильтров (изначально скрыта)--> 
        <Border x:Name="FilterPanel" Grid.Column="1" Grid.Row="1" Background="MediumPurple" CornerRadius="50 50 50 0" Padding="15,30,15,15" >
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Цена от" Style="{DynamicResource MaterialDesignOverlineTextBlock}" Foreground="White" VerticalAlignment="Center"/>
                    <TextBox Width="50" Background="White" Margin="5,0,5,0" Style="{DynamicResource MaterialDesignTextBoxBase}" Text="{Binding PriceFrom, UpdateSourceTrigger=PropertyChanged}" />
                    <TextBlock Text="до" Style="{DynamicResource MaterialDesignOverlineTextBlock}" Foreground="White" VerticalAlignment="Center"/>
                    <TextBox Width="50" Background="White" Margin="5,0,0,0" Style="{DynamicResource MaterialDesignTextBoxBase}" Text="{Binding PriceTo, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <StackPanel Margin="0,10,0,10">
                    <DockPanel Margin="0,0,0,5">
                        <TextBlock Style="{DynamicResource MaterialDesignOverlineTextBlock}" Foreground="White" Text="Категории цветов" HorizontalAlignment="Left"/>
                        <Button Width="15" Height="15" HorizontalAlignment="Right" Style="{DynamicResource MaterialDesignIconButton}" >
                            <iconPacks:PackIconMaterial Kind="{Binding ToggleCategoriesIcon}" Foreground="BlueViolet"/>
                        </Button>
                    </DockPanel>
                    <Border Background="White" CornerRadius="8" Height="100" ClipToBounds="True">
                        <ScrollViewer>
                            <ItemsControl ItemsSource="{Binding Categories}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel Margin="3">
                                            <CheckBox IsChecked="{Binding IsSelected, Mode=TwoWay}" VerticalAlignment="Center"/>
                                            <TextBlock Text="{Binding Name}" Foreground="MediumPurple" Margin="5,0,0,0" VerticalAlignment="Center" />
                                        </DockPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Border>
                </StackPanel>

                <StackPanel Margin="0,10,0,0">
                    <DockPanel Margin="0,0,0,5">
                        <TextBlock Style="{DynamicResource MaterialDesignOverlineTextBlock}" Foreground="White" Text="Цвета" HorizontalAlignment="Left"/>
                        <Button Width="15" Height="15" HorizontalAlignment="Right" Style="{DynamicResource MaterialDesignIconButton}" >
                            <iconPacks:PackIconMaterial Kind="{Binding ToggleColorsIcon}" />
                        </Button>
                    </DockPanel>
                    <Border Background="White" CornerRadius="8" Height="100" ClipToBounds="True">
                        <ScrollViewer>
                            <ItemsControl ItemsSource="{Binding Colors}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel Margin="3">
                                            <CheckBox IsChecked="{Binding IsSelected, Mode=TwoWay}" VerticalAlignment="Center"/>
                                            <TextBlock Text="{Binding Name}" Foreground="MediumPurple" Margin="5,0,0,0" VerticalAlignment="Center" />
                                        </DockPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Border>
                </StackPanel>

            </StackPanel>
        </Border>

         <!--Основная рабочая область для отображения контента--> 
        <ScrollViewer Grid.Column="2" Grid.Row="1" Name="Catalog">
            <Grid x:Name="CatalogPanel">
                 <!--Здесь будет динамический контент--> 
            </Grid>
        </ScrollViewer>

    </Grid>
</Window>
