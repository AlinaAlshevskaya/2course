@page
@model ASPA_007_1.Pages.CelebritiesModel
@using DAL_Celebrity;
@using DAL_Celebrity_MSSQL;
@{
    Layout = "_CelebLayout";
}
@section subhead{
    <h2 class="title">Celebrities</h2>
}



<a href="/0">
    <img 
        id="0"
        src="@Model.pathToZero"
        onload="onPhotoLoad(this,200,0)"/>
</a>
@foreach(var celeb in Model.Celebrities)
{
    <a href="/@celeb.Id">
        <img id="@celeb.Id" 
        src="api/Celebrities/photo/@celeb.ReqPhotoPath" alt="@celeb.FullName"
        onload="onPhotoLoad(this,200,0)"/>
    </a>

}


<script>

    function onPhotoLoad(e, h, w) {
        let ratio = e.naturalWidth / e.naturalHeight;

        if (h != 0 && w == 0) {
            e.width = Math.round(ratio * h);
        }
        if (h == 0 && w != 0) {
            e.height = Math.round(w / ratio);
        }
    }
</script>